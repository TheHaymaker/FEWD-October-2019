<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Ajax / XMLHttpRequest</title>
  </head>

  <body>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      const body = document.querySelector("body");

      axios
        .get("https://jsonplaceholder.typicode.com/todos")
        .then(function(response) {
          const data = JSON.parse(response.responseText); // give me an array of objects

          body.innerHTML = "";

          data.forEach(function(todoItem) {
            console.log("TODO ITEM: ", todoItem);
            const template = `
              <div>
                <input type="checkbox" ${todoItem.completed ? "checked" : ""}>
                <span>${todoItem.title}</span>
              </div>
            `;
            body.innerHTML += template;
          });
        })
        .catch(function(error) {
          console.log(error);
        });

      // Manual

      // // new
      // const request = new XMLHttpRequest();
      // // listen load / this.responseText
      // request.addEventListener("load", function(event) {
      //   try {
      //     const data = JSON.parse(this.responseText); // give me an array of objects

      //     body.innerHTML = "";

      //     data.forEach(function(todoItem) {
      //       console.log("TODO ITEM: ", todoItem);
      //       const template = `
      //         <div>
      //           <input type="checkbox" ${todoItem.completed ? "checked" : ""}>
      //           <span>${todoItem.title}</span>
      //         </div>
      //       `;
      //       body.innerHTML += template;
      //     });
      //   } catch (error) {
      //     console.log(error);
      //   }
      // });
      // // open
      // request.open("GET", "https://jsonplaceholder.typicode.com/todos?_page=1&_limit=20");
      // // send
      // request.send();
    </script>
  </body>
</html>
